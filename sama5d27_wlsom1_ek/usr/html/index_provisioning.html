<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DKC wallbox network setup</title>
		<meta charset="utf-8" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
		<meta content="width=device-width, initial-scale=1" name="viewport" />
		<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
		<link href="favicon.ico" rel="icon" type="image/x-icon" />
		<link href="favicon.png" rel="icon" type="image/png" />
  </head>
  <body>
		<nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark">
			<img src="img/dkc.png" width="54" height="30" class="ms-2">
      <div class="navbar-brand ms-3" href="#">wallbox network setup</div>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
	    </button>
    </nav>
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-4">
					<form action="/cgi-bin/store_wifi_parameters.sh" method="post">

      			<h3 class="display-6">Wi-Fi NETWORK</h3>
            <div class="mb-3">
							<label for="ssid" class="form-label">SSID network name</label>
              <input type="text" class="form-control" name="ssid" maxlength="32" value=<!--# echo var="ssid" default="" --> >
            </div>
						<div class="mb-3">
              <label for="pass" class="form-label">passphrase</label>
              <input type="password" class="form-control" name="pass" maxlength="64" value=<!--# echo var="pass" default="" --> >
              <!-- <p>Device Name</p>
              <input type="text" id="devname" maxlength="48">
              -->
						</div>
						<hr class="my-2">
	    	    <h3 class="display-6">ETHERNET NETWORK</h3>
    	      <div class="form-check mb-3">
							<input type="checkbox" name="dhcp" class="dhcp form-check-input" maxlength="64" onchange="dhcp_checked()" <!--#  echo var="dhcp" -->>
							<label class="form-check-label" for="dhcp">DHCP</label>
    	      </div>
    	      <div class="static_ip mb-3">
							<div class="mb-3">
								<label for="ipaddress" class="form-label">static IP</label>
	    	        <input type="text" class="form-control" name="ipaddress" maxlength="64" pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$" value=<!--# echo var="ipaddress" --> >
							</div>
							<div class="mb-3">
								<label for="netmask" class="form-label">netmask</label>
	    	        <input type="text" class="form-control" name="netmask" maxlength="64" value=<!--# echo var="netmask" default="255.255.0.0" --> >
							</div>
							<div class="mb-3">
								<label for="gateway" class="form-label">gateway</label>
	    	        <input type="text" class="form-control" name="gateway" maxlength="64" value=<!--# echo var="gateway" default="" --> >
							</div>
							<div class="mb-3">
								<label for="dns" class="form-label">DNS server</label>
	    	        <input type="text" class="form-control" name="dns" maxlength="64" value=<!--# echo var="dns" default="" --> >
	    	        <!-- <p>Device Name</p>
	    	        <input type="text" id="devname" maxlength="48">
	    	        -->
							</div>
    	      </div>
						<hr class="my-2">
			    	<div>
							<button class="w-100 btn btn-lg btn-primary my-2" type="submit">apply</button>
			    	  <!-- <input type="submit" value="Apply" /> -->
			    	</div>
			    </form>
				</div>
			</div>
		</div>
		<script>window.jQuery || document.write('<script src="js/jquery.slim.min.js"><\/script>')</script>
    <script src="/js/pushstream.js" type="text/javascript" language="javascript" charset="utf-8"></script>
    <script type="text/javascript" language="javascript" charset="utf-8">
      function dhcp_checked() {
        if ($('.dhcp').is(":checked")) {
          $(".static_ip").hide();
        } else {
          $(".static_ip").show();
        }
      }
      window.onload = function() {
        dhcp_checked();
      };
    // <![CDATA[
    function messageReceived(text, id, channel) {
      document.getElementById('messages').innerHTML += id + ': ' + text + '<br>';
    };
    var pushstream = new PushStream({
      host: window.location.hostname,
      port: window.location.port,
      modes: "eventsource"
    });
    pushstream.onmessage = messageReceived;
    pushstream.addChannel('ch1');
    pushstream.connect();
    // ]]>
    </script>
  </body>
</html>
